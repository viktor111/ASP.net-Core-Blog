@model Blog.ViewModels.IndexViewModel
@{
    ViewData["Title"] = "Index";
    int counter = 0;
}
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
<div class="text-center">
    @if (SignInManager.IsSignedIn(User))
    {
        <div>
            <a class="btn btn-success" asp-area="" asp-controller="Admin" asp-action="Create">Create</a>
        </div>
    }
    <div>

    </div>
    <table class="table">
        @foreach (var article in Model.Articles)
        {

            <tr>
                <td>
                    <p style="color: lightgray">@article.Date</p>
                </td>
                <td>
                    <h1><a style="color:darkred !important" href="home/details/@article.Id">@article.Title</a></h1>
                    <p class="text-left">@Model.Preview[counter++] <a href="home/details/@article.Id">Read More.....</a></p>
                </td>
                <td><span class="text-danger">Category: </span>@article.Category</td>
                <td><span class="text-info">Author: </span>@article.Author</td>
                @if (SignInManager.IsSignedIn(User))
                {
                    <td>
                        <a href="admin/eddit/@article.Id" class="btn btn-outline-warning">Eddit</a>
                    </td>
                    <td>
                        <form asp-action="Delete" asp-controller="Admin" asp-route-id="@article.Id" method="post">
                            <input type="submit" value="Delete" class="btn btn-danger" />
                        </form>
                    </td>
                }
            </tr>            
        }
    </table>
</div>
</div>
